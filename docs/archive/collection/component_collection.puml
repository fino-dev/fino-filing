@startuml FilingCollection Architecture
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

title FilingCollection - Component Architecture

skinparam linetype ortho
skinparam classAttributeIconSize 0
skinparam packageStyle rectangle

Person(user, "User")

System_Boundary(collection, "FilingCollection") {
    Component(facade, "Collection", "Facade", "統一API・整合性検証")
    
    Component(index, "IndexDB", "Cache-Aside", "高速検索(SQLite)")
    Component(storage, "Storage", "Repository", "Payload抽象化・Registry内包")
    Component(filing, "Filing", "Entity", "不変ID保持")
}

Rel(user, facade, "Uses")
Rel(facade, index, "検索")
Rel(facade, storage, "Payload読込・保存")
Rel(facade, filing, "復元")

@enduml
